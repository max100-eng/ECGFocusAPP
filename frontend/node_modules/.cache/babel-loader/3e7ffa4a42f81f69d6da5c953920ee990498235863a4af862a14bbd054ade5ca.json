{"ast":null,"code":"import _objectSpread from\"C:/Users/maram/Focus_ECG/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';// Se asume que Tailwind CSS está configurado en el entorno.\n// Importaciones de Firebase (simuladas, ya que no hay persistencia de datos explícitamente solicitada aquí,\n// pero se incluyen para la estructura si se necesitara en el futuro).\n// const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};\n// const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\n// import { initializeApp } from 'firebase/app';\n// import { getAuth, signInAnonymously, signInWithCustomToken } from 'firebase/auth';\n// import { getFirestore } from 'firebase/firestore';\n// const app = initializeApp(firebaseConfig);\n// const auth = getAuth(app);\n// const db = getFirestore(app);\n// Función auxiliar para convertir un Blob o File a Base64\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const fileToBase64=file=>{return new Promise((resolve,reject)=>{const reader=new FileReader();reader.readAsDataURL(file);reader.onload=()=>resolve(reader.result.split(',')[1]);// Solo la parte base64\nreader.onerror=error=>reject(error);});};// Componente principal de la aplicación\nfunction App(){const[imageUrl,setImageUrl]=useState('');const[imagePreview,setImagePreview]=useState(null);const[analysisResult,setAnalysisResult]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const[patientData,setPatientData]=useState({age:'',gender:'',history:''});const[geminiAnalysis,setGeminiAnalysis]=useState(null);const[deepseekRecommendation,setDeepseekRecommendation]=useState(null);const[physionetComparison,setPhysionetComparison]=useState(null);const fileInputRef=useRef(null);const dragCounter=useRef(0);// Para manejar el estado de drag-and-drop\n// Efecto para previsualizar la imagen cuando cambia la URL\nuseEffect(()=>{if(imageUrl){setImagePreview(imageUrl);setError(null);}else{setImagePreview(null);}},[imageUrl]);// Manejador para el cambio de la URL\nconst handleUrlChange=e=>{setImageUrl(e.target.value);};// Manejador para subir archivo\nconst handleFileChange=e=>{const file=e.target.files[0];if(file&&file.type.startsWith('image/')){const reader=new FileReader();reader.onloadend=()=>{setImagePreview(reader.result);setImageUrl('');// Limpiar la URL si se sube un archivo\nsetError(null);};reader.readAsDataURL(file);}else{setImagePreview(null);setError('Por favor, sube un archivo de imagen válido.');}};// Manejador para tomar foto (simulado)\nconst handleTakePhoto=()=>{setError('La función \"Tomar Foto\" no está implementada en esta simulación.');};// Manejador para el drag-and-drop\nconst handleDragEnter=e=>{e.preventDefault();e.stopPropagation();dragCounter.current++;if(e.dataTransfer.items&&e.dataTransfer.items.length>0){e.currentTarget.classList.add('border-blue-500');}};const handleDragLeave=e=>{e.preventDefault();e.stopPropagation();dragCounter.current--;if(dragCounter.current===0){e.currentTarget.classList.remove('border-blue-500');}};const handleDragOver=e=>{e.preventDefault();e.stopPropagation();};const handleDrop=e=>{e.preventDefault();e.stopPropagation();dragCounter.current=0;e.currentTarget.classList.remove('border-blue-500');if(e.dataTransfer.files&&e.dataTransfer.files.length>0){const file=e.dataTransfer.files[0];if(file.type.startsWith('image/')){const reader=new FileReader();reader.onloadend=()=>{setImagePreview(reader.result);setImageUrl('');// Limpiar la URL si se sube un archivo\nsetError(null);};reader.readAsDataURL(file);}else{setError('Por favor, suelta un archivo de imagen válido.');}e.dataTransfer.clearData();}};// Función para simular el análisis de ECG\nconst simulateECGAnalysis=async imageData=>{// Simulación de una llamada a un backend para análisis de ECG\nreturn new Promise(resolve=>{setTimeout(()=>{resolve({basic_measurements:{pr_interval:'0.16s',qrs_duration:'0.08s',qt_interval:'0.38s',heart_rate:'72 bpm'},initial_findings:'Ritmo sinusal normal. No se detectan anomalías significativas en el trazado.',confidence:'95%'});},1500);// Simula un retraso de 1.5 segundos\n});};// Función para llamar a la API de Gemini para análisis de imagen y texto\nconst callGeminiAPI=async function(prompt){let imageData=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let chatHistory=[];const parts=[{text:prompt}];if(imageData){parts.push({inlineData:{mimeType:\"image/png\",// Asumimos PNG para la imagen del ECG\ndata:imageData}});}chatHistory.push({role:\"user\",parts:parts});const payload={contents:chatHistory};const apiKey=\"\";// La clave API se inyecta en tiempo de ejecución por Canvas\nconst apiUrl=\"https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=\".concat(apiKey);try{const response=await fetch(apiUrl,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});const result=await response.json();if(result.candidates&&result.candidates.length>0&&result.candidates[0].content&&result.candidates[0].content.parts&&result.candidates[0].content.parts.length>0){return result.candidates[0].content.parts[0].text;}else{console.error(\"Estructura de respuesta inesperada de Gemini:\",result);return\"No se pudo obtener una respuesta detallada de Gemini.\";}}catch(err){console.error(\"Error al llamar a la API de Gemini:\",err);return\"Error de conexi\\xF3n con Gemini: \".concat(err.message,\".\");}};// Manejador del botón \"Analizar\"\nconst handleAnalyze=async()=>{if(!imagePreview){setError('Por favor, sube o introduce una URL de imagen de ECG.');return;}setLoading(true);setError(null);setAnalysisResult(null);setGeminiAnalysis(null);setDeepseekRecommendation(null);setPhysionetComparison(null);try{// Convertir la imagen a Base64 si es necesario para Gemini\nlet base64Image=null;if(imagePreview.startsWith('data:image/')){base64Image=imagePreview.split(',')[1];}else{// Si es una URL externa, se necesitaría un proxy o CORS para obtener la imagen\n// Para esta simulación, asumimos que ya tenemos el base64 o que la URL es directa.\n// En un entorno real, harías un fetch de la URL y lo convertirías a base64.\nconst response=await fetch(imagePreview);const blob=await response.blob();base64Image=await fileToBase64(blob);}// Simular análisis básico de ECG\nconst basicResults=await simulateECGAnalysis(base64Image);setAnalysisResult(basicResults);// Análisis multimodal con Gemini\nconst geminiPrompt=\"Analiza este ECG y los siguientes datos del paciente:\\n            Edad: \".concat(patientData.age||'no especificada',\"\\n            G\\xE9nero: \").concat(patientData.gender||'no especificado',\"\\n            Historial Cl\\xEDnico: \").concat(patientData.history||'no especificado',\"\\n            \\n            Basado en el ECG y los datos del paciente, proporciona un resumen detallado y cualquier observaci\\xF3n relevante.\");const geminiRes=await callGeminiAPI(geminiPrompt,base64Image);setGeminiAnalysis(geminiRes);// Simular Deepseek y PhysioNet\nsetTimeout(()=>{setDeepseekRecommendation('Deepseek sugiere considerar un seguimiento si los síntomas persisten, dado el historial.');setPhysionetComparison('Comparación con PhysioNet: El trazado muestra alta similitud con patrones de ritmo sinusal normal en la base de datos de referencia.');},1000);}catch(err){setError(\"Error durante el an\\xE1lisis: \".concat(err.message,\". Aseg\\xFArate de que la URL es v\\xE1lida o el archivo es una imagen.\"));console.error(err);}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-900 text-white font-inter p-4 sm:p-8 flex flex-col items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl w-full bg-gray-800 rounded-xl shadow-lg p-6 sm:p-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl sm:text-4xl font-bold text-blue-400 mb-6 text-center\",children:\"An\\xE1lisis de ECG Avanzado con IA\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-700 bg-opacity-30 border border-yellow-600 rounded-lg p-4 mb-6 flex items-start\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-yellow-400 mr-3 mt-1\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\",clipRule:\"evenodd\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-semibold text-yellow-300\",children:\"AVISO IMPORTANTE:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-yellow-200\",children:\"Este an\\xE1lisis es \\\"solo para fines informativos\\\" y no constituye un diagn\\xF3stico m\\xE9dico. Siempre consulta a un profesional de la salud calificado para una interpretaci\\xF3n precisa de cualquier dato m\\xE9dico.\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-blue-300 mb-4\",children:\"Cargar Imagen de ECG\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>fileInputRef.current.click(),className:\"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105\",children:\"Subir Imagen\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",ref:fileInputRef,onChange:handleFileChange,accept:\"image/*\",className:\"hidden\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleTakePhoto,className:\"bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105\",children:\"Tomar Foto\"})]}),/*#__PURE__*/_jsxs(\"div\",{onDragEnter:handleDragEnter,onDragLeave:handleDragLeave,onDragOver:handleDragOver,onDrop:handleDrop,className:\"relative border-2 border-dashed border-gray-600 rounded-lg p-6 text-center text-gray-400 transition-all duration-300 ease-in-out hover:border-blue-500\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center mb-3\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 mr-2\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M12 1.586l-4 4V14a2 2 0 002 2h2a2 2 0 002-2V5.586l-4-4zM10 17a1 1 0 100-2 1 1 0 000 2z\",clipRule:\"evenodd\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",placeholder:\"... o introduce la URL de una imagen aqu\\xED o arrastra y suelta\",value:imageUrl,onChange:handleUrlChange,className:\"flex-grow bg-gray-700 border border-gray-600 rounded-lg py-2 px-4 text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500\"})]}),imagePreview&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 flex justify-center\",children:/*#__PURE__*/_jsx(\"img\",{src:imagePreview,alt:\"Vista previa del ECG\",className:\"max-w-full h-48 object-contain rounded-lg border border-gray-700 shadow-md\",onError:e=>{e.target.onerror=null;setImagePreview(null);setError('No se pudo cargar la imagen desde la URL. Asegúrate de que es una URL válida y accesible.');}})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAnalyze,disabled:!imagePreview||loading,className:\"mt-4 w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105 \".concat(!imagePreview||loading?'opacity-50 cursor-not-allowed':''),children:loading?'Analizando...':'Analizar'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-blue-300 mb-4\",children:\"Resultados del An\\xE1lisis\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-700 rounded-lg p-6\",children:[error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-400 mb-4\",children:error}),loading&&/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-300\",children:\"Realizando an\\xE1lisis...\"}),analysisResult&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-200 mb-2\",children:\"An\\xE1lisis B\\xE1sico del ECG:\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"list-disc list-inside text-gray-300 mb-4\",children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"Intervalo PR: \",analysisResult.basic_measurements.pr_interval]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Duraci\\xF3n QRS: \",analysisResult.basic_measurements.qrs_duration]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Intervalo QT: \",analysisResult.basic_measurements.qt_interval]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Frecuencia Card\\xEDaca: \",analysisResult.basic_measurements.heart_rate]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-300\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"Hallazgos Iniciales:\"}),\" \",analysisResult.initial_findings]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-300\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"Confianza del Modelo:\"}),\" \",analysisResult.confidence]})]}),!analysisResult&&!loading&&!error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"Sube una imagen de ECG para iniciar el an\\xE1lisis.\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-blue-300 mb-4\",children:\"An\\xE1lisis Avanzado con IA Multimodal\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-700 rounded-lg p-6\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 mb-4\",children:\"Utilizamos las capacidades multimodales de IA para ofrecer una interpretaci\\xF3n m\\xE1s completa y contextualizada de tu ECG. Adem\\xE1s del an\\xE1lisis visual, podemos integrar datos cl\\xEDnicos para una visi\\xF3n hol\\xEDstica.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 p-4 border border-gray-600 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-200 mb-3\",children:\"Datos del Paciente (para Gemini)\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm mb-3\",children:\"Gemini puede interpretar el ECG en el contexto de la informaci\\xF3n cl\\xEDnica proporcionada, identificando posibles correlaciones.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"age\",className:\"block text-gray-300 text-sm font-bold mb-1\",children:\"Edad:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"age\",value:patientData.age,onChange:e=>setPatientData(_objectSpread(_objectSpread({},patientData),{},{age:e.target.value})),className:\"w-full bg-gray-800 border border-gray-600 rounded-lg py-2 px-3 text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500\",placeholder:\"Ej: 45\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"gender\",className:\"block text-gray-300 text-sm font-bold mb-1\",children:\"G\\xE9nero:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"gender\",value:patientData.gender,onChange:e=>setPatientData(_objectSpread(_objectSpread({},patientData),{},{gender:e.target.value})),className:\"w-full bg-gray-800 border border-gray-600 rounded-lg py-2 px-3 text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Seleccionar\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Masculino\",children:\"Masculino\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Femenino\",children:\"Femenino\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Otro\",children:\"Otro\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"history\",className:\"block text-gray-300 text-sm font-bold mb-1\",children:\"Historial Cl\\xEDnico / S\\xEDntomas actuales:\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"history\",value:patientData.history,onChange:e=>setPatientData(_objectSpread(_objectSpread({},patientData),{},{history:e.target.value})),rows:\"3\",className:\"w-full bg-gray-800 border border-gray-600 rounded-lg py-2 px-3 text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500\",placeholder:\"Ej: Antecedentes de hipertensi\\xF3n, dolor en el pecho ocasional...\"})]}),geminiAnalysis&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-3 bg-gray-800 rounded-lg border border-gray-600\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-blue-300\",children:\"An\\xE1lisis Contextual (Gemini):\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 text-sm\",children:geminiAnalysis})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 p-4 border border-gray-600 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-200 mb-3\",children:\"Recomendaciones Cl\\xEDnicas (Deepseek)\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm mb-3\",children:\"Deepseek puede sugerir posibles diagn\\xF3sticos y el siguiente curso de acci\\xF3n basado en las mediciones del ECG y los datos del paciente, actuando como una herramienta de apoyo para profesionales.\"}),deepseekRecommendation&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-3 bg-gray-800 rounded-lg border border-gray-600\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-blue-300\",children:\"Recomendaci\\xF3n (Deepseek):\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 text-sm\",children:deepseekRecommendation})]}),!deepseekRecommendation&&!loading&&/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm\",children:\"Las recomendaciones de Deepseek aparecer\\xE1n aqu\\xED despu\\xE9s del an\\xE1lisis.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border border-gray-600 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-200 mb-3\",children:\"Comparaci\\xF3n con Base de Datos de Referencia (PhysioNet)\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm mb-3\",children:\"Compara el trazado de tu ECG con miles de registros de referencia de PhysioNet para identificar patrones raros o espec\\xEDficos, ayudando a validar los hallazgos.\"}),physionetComparison&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-3 bg-gray-800 rounded-lg border border-gray-600\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-blue-300\",children:\"Comparaci\\xF3n (PhysioNet):\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 text-sm\",children:physionetComparison})]}),!physionetComparison&&!loading&&/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm\",children:\"La comparaci\\xF3n con PhysioNet aparecer\\xE1 aqu\\xED despu\\xE9s del an\\xE1lisis.\"})]})]})]})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","useRef","jsx","_jsx","jsxs","_jsxs","fileToBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","split","onerror","error","App","imageUrl","setImageUrl","imagePreview","setImagePreview","analysisResult","setAnalysisResult","loading","setLoading","setError","patientData","setPatientData","age","gender","history","geminiAnalysis","setGeminiAnalysis","deepseekRecommendation","setDeepseekRecommendation","physionetComparison","setPhysionetComparison","fileInputRef","dragCounter","handleUrlChange","e","target","value","handleFileChange","files","type","startsWith","onloadend","handleTakePhoto","handleDragEnter","preventDefault","stopPropagation","current","dataTransfer","items","length","currentTarget","classList","add","handleDragLeave","remove","handleDragOver","handleDrop","clearData","simulateECGAnalysis","imageData","setTimeout","basic_measurements","pr_interval","qrs_duration","qt_interval","heart_rate","initial_findings","confidence","callGeminiAPI","prompt","arguments","undefined","chatHistory","parts","text","push","inlineData","mimeType","data","role","payload","contents","apiKey","apiUrl","concat","response","fetch","method","headers","body","JSON","stringify","json","candidates","content","console","err","message","handleAnalyze","base64Image","blob","basicResults","geminiPrompt","geminiRes","className","children","fill","viewBox","xmlns","fillRule","d","clipRule","onClick","click","ref","onChange","accept","onDragEnter","onDragLeave","onDragOver","onDrop","placeholder","src","alt","onError","disabled","htmlFor","id","_objectSpread","rows"],"sources":["C:/Users/maram/Focus_ECG/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\n\r\n// Se asume que Tailwind CSS está configurado en el entorno.\r\n// Importaciones de Firebase (simuladas, ya que no hay persistencia de datos explícitamente solicitada aquí,\r\n// pero se incluyen para la estructura si se necesitara en el futuro).\r\n// const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};\r\n// const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\r\n\r\n// import { initializeApp } from 'firebase/app';\r\n// import { getAuth, signInAnonymously, signInWithCustomToken } from 'firebase/auth';\r\n// import { getFirestore } from 'firebase/firestore';\r\n\r\n// const app = initializeApp(firebaseConfig);\r\n// const auth = getAuth(app);\r\n// const db = getFirestore(app);\r\n\r\n// Función auxiliar para convertir un Blob o File a Base64\r\nconst fileToBase64 = (file) => {\r\n    return new Promise((resolve, reject) => {\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onload = () => resolve(reader.result.split(',')[1]); // Solo la parte base64\r\n        reader.onerror = error => reject(error);\r\n    });\r\n};\r\n\r\n// Componente principal de la aplicación\r\nfunction App() {\r\n    const [imageUrl, setImageUrl] = useState('');\r\n    const [imagePreview, setImagePreview] = useState(null);\r\n    const [analysisResult, setAnalysisResult] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const [patientData, setPatientData] = useState({ age: '', gender: '', history: '' });\r\n    const [geminiAnalysis, setGeminiAnalysis] = useState(null);\r\n    const [deepseekRecommendation, setDeepseekRecommendation] = useState(null);\r\n    const [physionetComparison, setPhysionetComparison] = useState(null);\r\n    const fileInputRef = useRef(null);\r\n    const dragCounter = useRef(0); // Para manejar el estado de drag-and-drop\r\n\r\n    // Efecto para previsualizar la imagen cuando cambia la URL\r\n    useEffect(() => {\r\n        if (imageUrl) {\r\n            setImagePreview(imageUrl);\r\n            setError(null);\r\n        } else {\r\n            setImagePreview(null);\r\n        }\r\n    }, [imageUrl]);\r\n\r\n    // Manejador para el cambio de la URL\r\n    const handleUrlChange = (e) => {\r\n        setImageUrl(e.target.value);\r\n    };\r\n\r\n    // Manejador para subir archivo\r\n    const handleFileChange = (e) => {\r\n        const file = e.target.files[0];\r\n        if (file && file.type.startsWith('image/')) {\r\n            const reader = new FileReader();\r\n            reader.onloadend = () => {\r\n                setImagePreview(reader.result);\r\n                setImageUrl(''); // Limpiar la URL si se sube un archivo\r\n                setError(null);\r\n            };\r\n            reader.readAsDataURL(file);\r\n        } else {\r\n            setImagePreview(null);\r\n            setError('Por favor, sube un archivo de imagen válido.');\r\n        }\r\n    };\r\n\r\n    // Manejador para tomar foto (simulado)\r\n    const handleTakePhoto = () => {\r\n        setError('La función \"Tomar Foto\" no está implementada en esta simulación.');\r\n    };\r\n\r\n    // Manejador para el drag-and-drop\r\n    const handleDragEnter = (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        dragCounter.current++;\r\n        if (e.dataTransfer.items && e.dataTransfer.items.length > 0) {\r\n            e.currentTarget.classList.add('border-blue-500');\r\n        }\r\n    };\r\n\r\n    const handleDragLeave = (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        dragCounter.current--;\r\n        if (dragCounter.current === 0) {\r\n            e.currentTarget.classList.remove('border-blue-500');\r\n        }\r\n    };\r\n\r\n    const handleDragOver = (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n    };\r\n\r\n    const handleDrop = (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        dragCounter.current = 0;\r\n        e.currentTarget.classList.remove('border-blue-500');\r\n\r\n        if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\r\n            const file = e.dataTransfer.files[0];\r\n            if (file.type.startsWith('image/')) {\r\n                const reader = new FileReader();\r\n                reader.onloadend = () => {\r\n                    setImagePreview(reader.result);\r\n                    setImageUrl(''); // Limpiar la URL si se sube un archivo\r\n                    setError(null);\r\n                };\r\n                reader.readAsDataURL(file);\r\n            } else {\r\n                setError('Por favor, suelta un archivo de imagen válido.');\r\n            }\r\n            e.dataTransfer.clearData();\r\n        }\r\n    };\r\n\r\n    // Función para simular el análisis de ECG\r\n    const simulateECGAnalysis = async (imageData) => {\r\n        // Simulación de una llamada a un backend para análisis de ECG\r\n        return new Promise(resolve => {\r\n            setTimeout(() => {\r\n                resolve({\r\n                    basic_measurements: {\r\n                        pr_interval: '0.16s',\r\n                        qrs_duration: '0.08s',\r\n                        qt_interval: '0.38s',\r\n                        heart_rate: '72 bpm'\r\n                    },\r\n                    initial_findings: 'Ritmo sinusal normal. No se detectan anomalías significativas en el trazado.',\r\n                    confidence: '95%'\r\n                });\r\n            }, 1500); // Simula un retraso de 1.5 segundos\r\n        });\r\n    };\r\n\r\n    // Función para llamar a la API de Gemini para análisis de imagen y texto\r\n    const callGeminiAPI = async (prompt, imageData = null) => {\r\n        let chatHistory = [];\r\n        const parts = [{ text: prompt }];\r\n\r\n        if (imageData) {\r\n            parts.push({\r\n                inlineData: {\r\n                    mimeType: \"image/png\", // Asumimos PNG para la imagen del ECG\r\n                    data: imageData\r\n                }\r\n            });\r\n        }\r\n        chatHistory.push({ role: \"user\", parts: parts });\r\n\r\n        const payload = { contents: chatHistory };\r\n        const apiKey = \"\"; // La clave API se inyecta en tiempo de ejecución por Canvas\r\n        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;\r\n\r\n        try {\r\n            const response = await fetch(apiUrl, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(payload)\r\n            });\r\n            const result = await response.json();\r\n            if (result.candidates && result.candidates.length > 0 &&\r\n                result.candidates[0].content && result.candidates[0].content.parts &&\r\n                result.candidates[0].content.parts.length > 0) {\r\n                return result.candidates[0].content.parts[0].text;\r\n            } else {\r\n                console.error(\"Estructura de respuesta inesperada de Gemini:\", result);\r\n                return \"No se pudo obtener una respuesta detallada de Gemini.\";\r\n            }\r\n        } catch (err) {\r\n            console.error(\"Error al llamar a la API de Gemini:\", err);\r\n            return `Error de conexión con Gemini: ${err.message}.`;\r\n        }\r\n    };\r\n\r\n    // Manejador del botón \"Analizar\"\r\n    const handleAnalyze = async () => {\r\n        if (!imagePreview) {\r\n            setError('Por favor, sube o introduce una URL de imagen de ECG.');\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n        setError(null);\r\n        setAnalysisResult(null);\r\n        setGeminiAnalysis(null);\r\n        setDeepseekRecommendation(null);\r\n        setPhysionetComparison(null);\r\n\r\n        try {\r\n            // Convertir la imagen a Base64 si es necesario para Gemini\r\n            let base64Image = null;\r\n            if (imagePreview.startsWith('data:image/')) {\r\n                base64Image = imagePreview.split(',')[1];\r\n            } else {\r\n                // Si es una URL externa, se necesitaría un proxy o CORS para obtener la imagen\r\n                // Para esta simulación, asumimos que ya tenemos el base64 o que la URL es directa.\r\n                // En un entorno real, harías un fetch de la URL y lo convertirías a base64.\r\n                const response = await fetch(imagePreview);\r\n                const blob = await response.blob();\r\n                base64Image = await fileToBase64(blob);\r\n            }\r\n\r\n            // Simular análisis básico de ECG\r\n            const basicResults = await simulateECGAnalysis(base64Image);\r\n            setAnalysisResult(basicResults);\r\n\r\n            // Análisis multimodal con Gemini\r\n            const geminiPrompt = `Analiza este ECG y los siguientes datos del paciente:\r\n            Edad: ${patientData.age || 'no especificada'}\r\n            Género: ${patientData.gender || 'no especificado'}\r\n            Historial Clínico: ${patientData.history || 'no especificado'}\r\n            \r\n            Basado en el ECG y los datos del paciente, proporciona un resumen detallado y cualquier observación relevante.`;\r\n            \r\n            const geminiRes = await callGeminiAPI(geminiPrompt, base64Image);\r\n            setGeminiAnalysis(geminiRes);\r\n\r\n            // Simular Deepseek y PhysioNet\r\n            setTimeout(() => {\r\n                setDeepseekRecommendation('Deepseek sugiere considerar un seguimiento si los síntomas persisten, dado el historial.');\r\n                setPhysionetComparison('Comparación con PhysioNet: El trazado muestra alta similitud con patrones de ritmo sinusal normal en la base de datos de referencia.');\r\n            }, 1000);\r\n\r\n        } catch (err) {\r\n            setError(`Error durante el análisis: ${err.message}. Asegúrate de que la URL es válida o el archivo es una imagen.`);\r\n            console.error(err);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-900 text-white font-inter p-4 sm:p-8 flex flex-col items-center\">\r\n            <div className=\"max-w-4xl w-full bg-gray-800 rounded-xl shadow-lg p-6 sm:p-8\">\r\n                <h1 className=\"text-3xl sm:text-4xl font-bold text-blue-400 mb-6 text-center\">Análisis de ECG Avanzado con IA</h1>\r\n\r\n                {/* Aviso Importante */}\r\n                <div className=\"bg-yellow-700 bg-opacity-30 border border-yellow-600 rounded-lg p-4 mb-6 flex items-start\">\r\n                    <svg className=\"w-6 h-6 text-yellow-400 mr-3 mt-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fillRule=\"evenodd\" d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\"></path></svg>\r\n                    <div>\r\n                        <h2 className=\"font-semibold text-yellow-300\">AVISO IMPORTANTE:</h2>\r\n                        <p className=\"text-sm text-yellow-200\">Este análisis es \"solo para fines informativos\" y no constituye un diagnóstico médico. Siempre consulta a un profesional de la salud calificado para una interpretación precisa de cualquier dato médico.</p>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Sección de Carga de ECG */}\r\n                <div className=\"mb-8\">\r\n                    <h2 className=\"text-2xl font-semibold text-blue-300 mb-4\">Cargar Imagen de ECG</h2>\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\r\n                        <button\r\n                            onClick={() => fileInputRef.current.click()}\r\n                            className=\"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105\"\r\n                        >\r\n                            Subir Imagen\r\n                        </button>\r\n                        <input\r\n                            type=\"file\"\r\n                            ref={fileInputRef}\r\n                            onChange={handleFileChange}\r\n                            accept=\"image/*\"\r\n                            className=\"hidden\"\r\n                        />\r\n                        <button\r\n                            onClick={handleTakePhoto}\r\n                            className=\"bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105\"\r\n                        >\r\n                            Tomar Foto\r\n                        </button>\r\n                    </div>\r\n\r\n                    {/* Caja de URL Dinámica y Drag-and-Drop */}\r\n                    <div\r\n                        onDragEnter={handleDragEnter}\r\n                        onDragLeave={handleDragLeave}\r\n                        onDragOver={handleDragOver}\r\n                        onDrop={handleDrop}\r\n                        className=\"relative border-2 border-dashed border-gray-600 rounded-lg p-6 text-center text-gray-400 transition-all duration-300 ease-in-out hover:border-blue-500\"\r\n                    >\r\n                        <div className=\"flex items-center justify-center mb-3\">\r\n                            <svg className=\"w-6 h-6 mr-2\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fillRule=\"evenodd\" d=\"M12 1.586l-4 4V14a2 2 0 002 2h2a2 2 0 002-2V5.586l-4-4zM10 17a1 1 0 100-2 1 1 0 000 2z\" clipRule=\"evenodd\"></path></svg>\r\n                            <input\r\n                                type=\"url\"\r\n                                placeholder=\"... o introduce la URL de una imagen aquí o arrastra y suelta\"\r\n                                value={imageUrl}\r\n                                onChange={handleUrlChange}\r\n                                className=\"flex-grow bg-gray-700 border border-gray-600 rounded-lg py-2 px-4 text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                            />\r\n                        </div>\r\n                        {imagePreview && (\r\n                            <div className=\"mt-4 flex justify-center\">\r\n                                <img\r\n                                    src={imagePreview}\r\n                                    alt=\"Vista previa del ECG\"\r\n                                    className=\"max-w-full h-48 object-contain rounded-lg border border-gray-700 shadow-md\"\r\n                                    onError={(e) => { e.target.onerror = null; setImagePreview(null); setError('No se pudo cargar la imagen desde la URL. Asegúrate de que es una URL válida y accesible.'); }}\r\n                                />\r\n                            </div>\r\n                        )}\r\n                        <button\r\n                            onClick={handleAnalyze}\r\n                            disabled={!imagePreview || loading}\r\n                            className={`mt-4 w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105 ${(!imagePreview || loading) ? 'opacity-50 cursor-not-allowed' : ''}`}\r\n                        >\r\n                            {loading ? 'Analizando...' : 'Analizar'}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Sección de Resultados del Análisis */}\r\n                <div className=\"mb-8\">\r\n                    <h2 className=\"text-2xl font-semibold text-blue-300 mb-4\">Resultados del Análisis</h2>\r\n                    <div className=\"bg-gray-700 rounded-lg p-6\">\r\n                        {error && <p className=\"text-red-400 mb-4\">{error}</p>}\r\n                        {loading && <p className=\"text-blue-300\">Realizando análisis...</p>}\r\n                        {analysisResult && (\r\n                            <div>\r\n                                <h3 className=\"text-xl font-semibold text-gray-200 mb-2\">Análisis Básico del ECG:</h3>\r\n                                <ul className=\"list-disc list-inside text-gray-300 mb-4\">\r\n                                    <li>Intervalo PR: {analysisResult.basic_measurements.pr_interval}</li>\r\n                                    <li>Duración QRS: {analysisResult.basic_measurements.qrs_duration}</li>\r\n                                    <li>Intervalo QT: {analysisResult.basic_measurements.qt_interval}</li>\r\n                                    <li>Frecuencia Cardíaca: {analysisResult.basic_measurements.heart_rate}</li>\r\n                                </ul>\r\n                                <p className=\"text-gray-300\">\r\n                                    <span className=\"font-semibold\">Hallazgos Iniciales:</span> {analysisResult.initial_findings}\r\n                                </p>\r\n                                <p className=\"text-gray-300\">\r\n                                    <span className=\"font-semibold\">Confianza del Modelo:</span> {analysisResult.confidence}\r\n                                </p>\r\n                            </div>\r\n                        )}\r\n                        {!analysisResult && !loading && !error && (\r\n                            <p className=\"text-gray-400\">Sube una imagen de ECG para iniciar el análisis.</p>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Nuevo Apartado de IA Multimodal */}\r\n                <div>\r\n                    <h2 className=\"text-2xl font-semibold text-blue-300 mb-4\">Análisis Avanzado con IA Multimodal</h2>\r\n                    <div className=\"bg-gray-700 rounded-lg p-6\">\r\n                        <p className=\"text-gray-300 mb-4\">\r\n                            Utilizamos las capacidades multimodales de IA para ofrecer una interpretación más completa y contextualizada de tu ECG. Además del análisis visual, podemos integrar datos clínicos para una visión holística.\r\n                        </p>\r\n\r\n                        {/* Datos del Paciente para Gemini */}\r\n                        <div className=\"mb-6 p-4 border border-gray-600 rounded-lg\">\r\n                            <h3 className=\"text-xl font-semibold text-gray-200 mb-3\">Datos del Paciente (para Gemini)</h3>\r\n                            <p className=\"text-gray-400 text-sm mb-3\">Gemini puede interpretar el ECG en el contexto de la información clínica proporcionada, identificando posibles correlaciones.</p>\r\n                            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                                <div>\r\n                                    <label htmlFor=\"age\" className=\"block text-gray-300 text-sm font-bold mb-1\">Edad:</label>\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        id=\"age\"\r\n                                        value={patientData.age}\r\n                                        onChange={(e) => setPatientData({ ...patientData, age: e.target.value })}\r\n                                        className=\"w-full bg-gray-800 border border-gray-600 rounded-lg py-2 px-3 text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                                        placeholder=\"Ej: 45\"\r\n                                    />\r\n                                </div>\r\n                                <div>\r\n                                    <label htmlFor=\"gender\" className=\"block text-gray-300 text-sm font-bold mb-1\">Género:</label>\r\n                                    <select\r\n                                        id=\"gender\"\r\n                                        value={patientData.gender}\r\n                                        onChange={(e) => setPatientData({ ...patientData, gender: e.target.value })}\r\n                                        className=\"w-full bg-gray-800 border border-gray-600 rounded-lg py-2 px-3 text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                                    >\r\n                                        <option value=\"\">Seleccionar</option>\r\n                                        <option value=\"Masculino\">Masculino</option>\r\n                                        <option value=\"Femenino\">Femenino</option>\r\n                                        <option value=\"Otro\">Otro</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"mt-4\">\r\n                                <label htmlFor=\"history\" className=\"block text-gray-300 text-sm font-bold mb-1\">Historial Clínico / Síntomas actuales:</label>\r\n                                <textarea\r\n                                    id=\"history\"\r\n                                    value={patientData.history}\r\n                                    onChange={(e) => setPatientData({ ...patientData, history: e.target.value })}\r\n                                    rows=\"3\"\r\n                                    className=\"w-full bg-gray-800 border border-gray-600 rounded-lg py-2 px-3 text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                                    placeholder=\"Ej: Antecedentes de hipertensión, dolor en el pecho ocasional...\"\r\n                                ></textarea>\r\n                            </div>\r\n                            {geminiAnalysis && (\r\n                                <div className=\"mt-4 p-3 bg-gray-800 rounded-lg border border-gray-600\">\r\n                                    <h4 className=\"font-semibold text-blue-300\">Análisis Contextual (Gemini):</h4>\r\n                                    <p className=\"text-gray-300 text-sm\">{geminiAnalysis}</p>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* Integración con Deepseek */}\r\n                        <div className=\"mb-6 p-4 border border-gray-600 rounded-lg\">\r\n                            <h3 className=\"text-xl font-semibold text-gray-200 mb-3\">Recomendaciones Clínicas (Deepseek)</h3>\r\n                            <p className=\"text-gray-400 text-sm mb-3\">Deepseek puede sugerir posibles diagnósticos y el siguiente curso de acción basado en las mediciones del ECG y los datos del paciente, actuando como una herramienta de apoyo para profesionales.</p>\r\n                            {deepseekRecommendation && (\r\n                                <div className=\"mt-4 p-3 bg-gray-800 rounded-lg border border-gray-600\">\r\n                                    <h4 className=\"font-semibold text-blue-300\">Recomendación (Deepseek):</h4>\r\n                                    <p className=\"text-gray-300 text-sm\">{deepseekRecommendation}</p>\r\n                                </div>\r\n                            )}\r\n                            {!deepseekRecommendation && !loading && (\r\n                                <p className=\"text-gray-400 text-sm\">Las recomendaciones de Deepseek aparecerán aquí después del análisis.</p>\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* Integración con PhysioNet */}\r\n                        <div className=\"p-4 border border-gray-600 rounded-lg\">\r\n                            <h3 className=\"text-xl font-semibold text-gray-200 mb-3\">Comparación con Base de Datos de Referencia (PhysioNet)</h3>\r\n                            <p className=\"text-gray-400 text-sm mb-3\">Compara el trazado de tu ECG con miles de registros de referencia de PhysioNet para identificar patrones raros o específicos, ayudando a validar los hallazgos.</p>\r\n                            {physionetComparison && (\r\n                                <div className=\"mt-4 p-3 bg-gray-800 rounded-lg border border-gray-600\">\r\n                                    <h4 className=\"font-semibold text-blue-300\">Comparación (PhysioNet):</h4>\r\n                                    <p className=\"text-gray-300 text-sm\">{physionetComparison}</p>\r\n                                </div>\r\n                            )}\r\n                            {!physionetComparison && !loading && (\r\n                                <p className=\"text-gray-400 text-sm\">La comparación con PhysioNet aparecerá aquí después del análisis.</p>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}