{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\maram\\\\Focus_ECG\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\n\n// Se asume que Tailwind CSS está configurado en el entorno.\n// Importaciones de Firebase (simuladas, ya que no hay persistencia de datos explícitamente solicitada aquí,\n// pero se incluyen para la estructura si se necesitara en el futuro).\n// const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};\n// const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\n\n// import { initializeApp } from 'firebase/app';\n// import { getAuth, signInAnonymously, signInWithCustomToken } from 'firebase/auth';\n// import { getFirestore } from 'firebase/firestore';\n\n// const app = initializeApp(firebaseConfig);\n// const auth = getAuth(app);\n// const db = getFirestore(app);\n\n// Función auxiliar para convertir un Blob o File a Base64\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst fileToBase64 = file => {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(reader.result.split(',')[1]); // Solo la parte base64\n    reader.onerror = error => reject(error);\n  });\n};\n\n// Componente principal de la aplicación\nfunction App() {\n  _s();\n  const [imageUrl, setImageUrl] = useState('');\n  const [imagePreview, setImagePreview] = useState(null);\n  const [analysisResult, setAnalysisResult] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [patientData, setPatientData] = useState({\n    age: '',\n    gender: '',\n    history: ''\n  });\n  const [geminiAnalysis, setGeminiAnalysis] = useState(null);\n  const [deepseekRecommendation, setDeepseekRecommendation] = useState(null);\n  const [physionetComparison, setPhysionetComparison] = useState(null);\n  const fileInputRef = useRef(null);\n  const dragCounter = useRef(0); // Para manejar el estado de drag-and-drop\n\n  // Efecto para previsualizar la imagen cuando cambia la URL\n  useEffect(() => {\n    if (imageUrl) {\n      setImagePreview(imageUrl);\n      setError(null);\n    } else {\n      setImagePreview(null);\n    }\n  }, [imageUrl]);\n\n  // Manejador para el cambio de la URL\n  const handleUrlChange = e => {\n    setImageUrl(e.target.value);\n  };\n\n  // Manejador para subir archivo\n  const handleFileChange = e => {\n    const file = e.target.files[0];\n    if (file && file.type.startsWith('image/')) {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setImagePreview(reader.result);\n        setImageUrl(''); // Limpiar la URL si se sube un archivo\n        setError(null);\n      };\n      reader.readAsDataURL(file);\n    } else {\n      setImagePreview(null);\n      setError('Por favor, sube un archivo de imagen válido.');\n    }\n  };\n\n  // Manejador para tomar foto (simulado)\n  const handleTakePhoto = () => {\n    setError('La función \"Tomar Foto\" no está implementada en esta simulación.');\n  };\n\n  // Manejador para el drag-and-drop\n  const handleDragEnter = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    dragCounter.current++;\n    if (e.dataTransfer.items && e.dataTransfer.items.length > 0) {\n      e.currentTarget.classList.add('border-blue-500');\n    }\n  };\n  const handleDragLeave = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    dragCounter.current--;\n    if (dragCounter.current === 0) {\n      e.currentTarget.classList.remove('border-blue-500');\n    }\n  };\n  const handleDragOver = e => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  const handleDrop = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    dragCounter.current = 0;\n    e.currentTarget.classList.remove('border-blue-500');\n    if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\n      const file = e.dataTransfer.files[0];\n      if (file.type.startsWith('image/')) {\n        const reader = new FileReader();\n        reader.onloadend = () => {\n          setImagePreview(reader.result);\n          setImageUrl(''); // Limpiar la URL si se sube un archivo\n          setError(null);\n        };\n        reader.readAsDataURL(file);\n      } else {\n        setError('Por favor, suelta un archivo de imagen válido.');\n      }\n      e.dataTransfer.clearData();\n    }\n  };\n\n  // Función para simular el análisis de ECG\n  const simulateECGAnalysis = async imageData => {\n    // Simulación de una llamada a un backend para análisis de ECG\n    return new Promise(resolve => {\n      setTimeout(() => {\n        resolve({\n          basic_measurements: {\n            pr_interval: '0.16s',\n            qrs_duration: '0.08s',\n            qt_interval: '0.38s',\n            heart_rate: '72 bpm'\n          },\n          initial_findings: 'Ritmo sinusal normal. No se detectan anomalías significativas en el trazado.',\n          confidence: '95%'\n        });\n      }, 1500); // Simula un retraso de 1.5 segundos\n    });\n  };\n\n  // Función para llamar a la API de Gemini para análisis de imagen y texto\n  const callGeminiAPI = async (prompt, imageData = null) => {\n    let chatHistory = [];\n    const parts = [{\n      text: prompt\n    }];\n    if (imageData) {\n      parts.push({\n        inlineData: {\n          mimeType: \"image/png\",\n          // Asumimos PNG para la imagen del ECG\n          data: imageData\n        }\n      });\n    }\n    chatHistory.push({\n      role: \"user\",\n      parts: parts\n    });\n    const payload = {\n      contents: chatHistory\n    };\n    const apiKey = \"\"; // La clave API se inyecta en tiempo de ejecución por Canvas\n    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;\n    try {\n      const response = await fetch(apiUrl, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(payload)\n      });\n      const result = await response.json();\n      if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0) {\n        return result.candidates[0].content.parts[0].text;\n      } else {\n        console.error(\"Estructura de respuesta inesperada de Gemini:\", result);\n        return \"No se pudo obtener una respuesta detallada de Gemini.\";\n      }\n    } catch (err) {\n      console.error(\"Error al llamar a la API de Gemini:\", err);\n      return `Error de conexión con Gemini: ${err.message}.`;\n    }\n  };\n\n  // Manejador del botón \"Analizar\"\n  const handleAnalyze = async () => {\n    if (!imagePreview) {\n      setError('Por favor, sube o introduce una URL de imagen de ECG.');\n      return;\n    }\n    setLoading(true);\n    setError(null);\n    setAnalysisResult(null);\n    setGeminiAnalysis(null);\n    setDeepseekRecommendation(null);\n    setPhysionetComparison(null);\n    try {\n      // Convertir la imagen a Base64 si es necesario para Gemini\n      let base64Image = null;\n      if (imagePreview.startsWith('data:image/')) {\n        base64Image = imagePreview.split(',')[1];\n      } else {\n        // Si es una URL externa, se necesitaría un proxy o CORS para obtener la imagen\n        // Para esta simulación, asumimos que ya tenemos el base64 o que la URL es directa.\n        // En un entorno real, harías un fetch de la URL y lo convertirías a base64.\n        const response = await fetch(imagePreview);\n        const blob = await response.blob();\n        base64Image = await fileToBase64(blob);\n      }\n\n      // Simular análisis básico de ECG\n      const basicResults = await simulateECGAnalysis(base64Image);\n      setAnalysisResult(basicResults);\n\n      // Análisis multimodal con Gemini\n      const geminiPrompt = `Analiza este ECG y los siguientes datos del paciente:\n            Edad: ${patientData.age || 'no especificada'}\n            Género: ${patientData.gender || 'no especificado'}\n            Historial Clínico: ${patientData.history || 'no especificado'}\n            \n            Basado en el ECG y los datos del paciente, proporciona un resumen detallado y cualquier observación relevante.`;\n      const geminiRes = await callGeminiAPI(geminiPrompt, base64Image);\n      setGeminiAnalysis(geminiRes);\n\n      // Simular Deepseek y PhysioNet\n      setTimeout(() => {\n        setDeepseekRecommendation('Deepseek sugiere considerar un seguimiento si los síntomas persisten, dado el historial.');\n        setPhysionetComparison('Comparación con PhysioNet: El trazado muestra alta similitud con patrones de ritmo sinusal normal en la base de datos de referencia.');\n      }, 1000);\n    } catch (err) {\n      setError(`Error durante el análisis: ${err.message}. Asegúrate de que la URL es válida o el archivo es una imagen.`);\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-900 text-white font-inter p-4 sm:p-8 flex flex-col items-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-4xl w-full bg-gray-800 rounded-xl shadow-lg p-6 sm:p-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl sm:text-4xl font-bold text-blue-400 mb-6 text-center\",\n        children: \"An\\xE1lisis de ECG Avanzado con IA\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-yellow-700 bg-opacity-30 border border-yellow-600 rounded-lg p-4 mb-6 flex items-start\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-6 h-6 text-yellow-400 mr-3 mt-1\",\n          fill: \"currentColor\",\n          viewBox: \"0 0 20 20\",\n          xmlns: \"http://www.w3.org/2000/svg\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            fillRule: \"evenodd\",\n            d: \"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\",\n            clipRule: \"evenodd\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 147\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"font-semibold text-yellow-300\",\n            children: \"AVISO IMPORTANTE:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-yellow-200\",\n            children: \"Este an\\xE1lisis es \\\"solo para fines informativos\\\" y no constituye un diagn\\xF3stico m\\xE9dico. Siempre consulta a un profesional de la salud calificado para una interpretaci\\xF3n precisa de cualquier dato m\\xE9dico.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-semibold text-blue-300 mb-4\",\n          children: \"Cargar Imagen de ECG\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => fileInputRef.current.click(),\n            className: \"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105\",\n            children: \"Subir Imagen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            ref: fileInputRef,\n            onChange: handleFileChange,\n            accept: \"image/*\",\n            className: \"hidden\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleTakePhoto,\n            className: \"bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105\",\n            children: \"Tomar Foto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          onDragEnter: handleDragEnter,\n          onDragLeave: handleDragLeave,\n          onDragOver: handleDragOver,\n          onDrop: handleDrop,\n          className: \"relative border-2 border-dashed border-gray-600 rounded-lg p-6 text-center text-gray-400 transition-all duration-300 ease-in-out hover:border-blue-500\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-center mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-6 h-6 mr-2\",\n              fill: \"currentColor\",\n              viewBox: \"0 0 20 20\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fillRule: \"evenodd\",\n                d: \"M12 1.586l-4 4V14a2 2 0 002 2h2a2 2 0 002-2V5.586l-4-4zM10 17a1 1 0 100-2 1 1 0 000 2z\",\n                clipRule: \"evenodd\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 134\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"url\",\n              placeholder: \"... o introduce la URL de una imagen aqu\\xED o arrastra y suelta\",\n              value: imageUrl,\n              onChange: handleUrlChange,\n              className: \"flex-grow bg-gray-700 border border-gray-600 rounded-lg py-2 px-4 text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 25\n          }, this), imagePreview && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 flex justify-center\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: imagePreview,\n              alt: \"Vista previa del ECG\",\n              className: \"max-w-full h-48 object-contain rounded-lg border border-gray-700 shadow-md\",\n              onError: e => {\n                e.target.onerror = null;\n                setImagePreview(null);\n                setError('No se pudo cargar la imagen desde la URL. Asegúrate de que es una URL válida y accesible.');\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleAnalyze,\n            disabled: !imagePreview || loading,\n            className: `mt-4 w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105 ${!imagePreview || loading ? 'opacity-50 cursor-not-allowed' : ''}`,\n            children: loading ? 'Analizando...' : 'Analizar'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-semibold text-blue-300 mb-4\",\n          children: \"Resultados del An\\xE1lisis\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-700 rounded-lg p-6\",\n          children: [error && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-red-400 mb-4\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 35\n          }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-blue-300\",\n            children: \"Realizando an\\xE1lisis...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 37\n          }, this), analysisResult && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-semibold text-gray-200 mb-2\",\n              children: \"An\\xE1lisis B\\xE1sico del ECG:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-disc list-inside text-gray-300 mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"Intervalo PR: \", analysisResult.basic_measurements.pr_interval]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"Duraci\\xF3n QRS: \", analysisResult.basic_measurements.qrs_duration]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"Intervalo QT: \", analysisResult.basic_measurements.qt_interval]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"Frecuencia Card\\xEDaca: \", analysisResult.basic_measurements.heart_rate]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-300\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-semibold\",\n                children: \"Hallazgos Iniciales:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 37\n              }, this), \" \", analysisResult.initial_findings]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-300\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-semibold\",\n                children: \"Confianza del Modelo:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 37\n              }, this), \" \", analysisResult.confidence]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 29\n          }, this), !analysisResult && !loading && !error && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-400\",\n            children: \"Sube una imagen de ECG para iniciar el an\\xE1lisis.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-semibold text-blue-300 mb-4\",\n          children: \"An\\xE1lisis Avanzado con IA Multimodal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-700 rounded-lg p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-300 mb-4\",\n            children: \"Utilizamos las capacidades multimodales de IA para ofrecer una interpretaci\\xF3n m\\xE1s completa y contextualizada de tu ECG. Adem\\xE1s del an\\xE1lisis visual, podemos integrar datos cl\\xEDnicos para una visi\\xF3n hol\\xEDstica.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6 p-4 border border-gray-600 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-semibold text-gray-200 mb-3\",\n              children: \"Datos del Paciente (para Gemini)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-400 text-sm mb-3\",\n              children: \"Gemini puede interpretar el ECG en el contexto de la informaci\\xF3n cl\\xEDnica proporcionada, identificando posibles correlaciones.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 sm:grid-cols-2 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"age\",\n                  className: \"block text-gray-300 text-sm font-bold mb-1\",\n                  children: \"Edad:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 361,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  id: \"age\",\n                  value: patientData.age,\n                  onChange: e => setPatientData({\n                    ...patientData,\n                    age: e.target.value\n                  }),\n                  className: \"w-full bg-gray-800 border border-gray-600 rounded-lg py-2 px-3 text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                  placeholder: \"Ej: 45\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"gender\",\n                  className: \"block text-gray-300 text-sm font-bold mb-1\",\n                  children: \"G\\xE9nero:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  id: \"gender\",\n                  value: patientData.gender,\n                  onChange: e => setPatientData({\n                    ...patientData,\n                    gender: e.target.value\n                  }),\n                  className: \"w-full bg-gray-800 border border-gray-600 rounded-lg py-2 px-3 text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Seleccionar\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 379,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Masculino\",\n                    children: \"Masculino\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 380,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Femenino\",\n                    children: \"Femenino\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 381,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Otro\",\n                    children: \"Otro\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 382,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"history\",\n                className: \"block text-gray-300 text-sm font-bold mb-1\",\n                children: \"Historial Cl\\xEDnico / S\\xEDntomas actuales:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                id: \"history\",\n                value: patientData.history,\n                onChange: e => setPatientData({\n                  ...patientData,\n                  history: e.target.value\n                }),\n                rows: \"3\",\n                className: \"w-full bg-gray-800 border border-gray-600 rounded-lg py-2 px-3 text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                placeholder: \"Ej: Antecedentes de hipertensi\\xF3n, dolor en el pecho ocasional...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 29\n            }, this), geminiAnalysis && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 p-3 bg-gray-800 rounded-lg border border-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-semibold text-blue-300\",\n                children: \"An\\xE1lisis Contextual (Gemini):\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-300 text-sm\",\n                children: geminiAnalysis\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6 p-4 border border-gray-600 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-semibold text-gray-200 mb-3\",\n              children: \"Recomendaciones Cl\\xEDnicas (Deepseek)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-400 text-sm mb-3\",\n              children: \"Deepseek puede sugerir posibles diagn\\xF3sticos y el siguiente curso de acci\\xF3n basado en las mediciones del ECG y los datos del paciente, actuando como una herramienta de apoyo para profesionales.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 29\n            }, this), deepseekRecommendation && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 p-3 bg-gray-800 rounded-lg border border-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-semibold text-blue-300\",\n                children: \"Recomendaci\\xF3n (Deepseek):\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-300 text-sm\",\n                children: deepseekRecommendation\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 33\n            }, this), !deepseekRecommendation && !loading && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-400 text-sm\",\n              children: \"Las recomendaciones de Deepseek aparecer\\xE1n aqu\\xED despu\\xE9s del an\\xE1lisis.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 border border-gray-600 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-semibold text-gray-200 mb-3\",\n              children: \"Comparaci\\xF3n con Base de Datos de Referencia (PhysioNet)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-400 text-sm mb-3\",\n              children: \"Compara el trazado de tu ECG con miles de registros de referencia de PhysioNet para identificar patrones raros o espec\\xEDficos, ayudando a validar los hallazgos.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 29\n            }, this), physionetComparison && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 p-3 bg-gray-800 rounded-lg border border-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-semibold text-blue-300\",\n                children: \"Comparaci\\xF3n (PhysioNet):\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-300 text-sm\",\n                children: physionetComparison\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 33\n            }, this), !physionetComparison && !loading && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-400 text-sm\",\n              children: \"La comparaci\\xF3n con PhysioNet aparecer\\xE1 aqu\\xED despu\\xE9s del an\\xE1lisis.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 242,\n    columnNumber: 9\n  }, this);\n}\n_s(App, \"iLuAzC7vT1CvLxwFO8/bVArK0EY=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","fileToBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","split","onerror","error","App","_s","imageUrl","setImageUrl","imagePreview","setImagePreview","analysisResult","setAnalysisResult","loading","setLoading","setError","patientData","setPatientData","age","gender","history","geminiAnalysis","setGeminiAnalysis","deepseekRecommendation","setDeepseekRecommendation","physionetComparison","setPhysionetComparison","fileInputRef","dragCounter","handleUrlChange","e","target","value","handleFileChange","files","type","startsWith","onloadend","handleTakePhoto","handleDragEnter","preventDefault","stopPropagation","current","dataTransfer","items","length","currentTarget","classList","add","handleDragLeave","remove","handleDragOver","handleDrop","clearData","simulateECGAnalysis","imageData","setTimeout","basic_measurements","pr_interval","qrs_duration","qt_interval","heart_rate","initial_findings","confidence","callGeminiAPI","prompt","chatHistory","parts","text","push","inlineData","mimeType","data","role","payload","contents","apiKey","apiUrl","response","fetch","method","headers","body","JSON","stringify","json","candidates","content","console","err","message","handleAnalyze","base64Image","blob","basicResults","geminiPrompt","geminiRes","className","children","fileName","_jsxFileName","lineNumber","columnNumber","fill","viewBox","xmlns","fillRule","d","clipRule","onClick","click","ref","onChange","accept","onDragEnter","onDragLeave","onDragOver","onDrop","placeholder","src","alt","onError","disabled","htmlFor","id","rows","_c","$RefreshReg$"],"sources":["C:/Users/maram/Focus_ECG/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\n\r\n// Se asume que Tailwind CSS está configurado en el entorno.\r\n// Importaciones de Firebase (simuladas, ya que no hay persistencia de datos explícitamente solicitada aquí,\r\n// pero se incluyen para la estructura si se necesitara en el futuro).\r\n// const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};\r\n// const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\r\n\r\n// import { initializeApp } from 'firebase/app';\r\n// import { getAuth, signInAnonymously, signInWithCustomToken } from 'firebase/auth';\r\n// import { getFirestore } from 'firebase/firestore';\r\n\r\n// const app = initializeApp(firebaseConfig);\r\n// const auth = getAuth(app);\r\n// const db = getFirestore(app);\r\n\r\n// Función auxiliar para convertir un Blob o File a Base64\r\nconst fileToBase64 = (file) => {\r\n    return new Promise((resolve, reject) => {\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onload = () => resolve(reader.result.split(',')[1]); // Solo la parte base64\r\n        reader.onerror = error => reject(error);\r\n    });\r\n};\r\n\r\n// Componente principal de la aplicación\r\nfunction App() {\r\n    const [imageUrl, setImageUrl] = useState('');\r\n    const [imagePreview, setImagePreview] = useState(null);\r\n    const [analysisResult, setAnalysisResult] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const [patientData, setPatientData] = useState({ age: '', gender: '', history: '' });\r\n    const [geminiAnalysis, setGeminiAnalysis] = useState(null);\r\n    const [deepseekRecommendation, setDeepseekRecommendation] = useState(null);\r\n    const [physionetComparison, setPhysionetComparison] = useState(null);\r\n    const fileInputRef = useRef(null);\r\n    const dragCounter = useRef(0); // Para manejar el estado de drag-and-drop\r\n\r\n    // Efecto para previsualizar la imagen cuando cambia la URL\r\n    useEffect(() => {\r\n        if (imageUrl) {\r\n            setImagePreview(imageUrl);\r\n            setError(null);\r\n        } else {\r\n            setImagePreview(null);\r\n        }\r\n    }, [imageUrl]);\r\n\r\n    // Manejador para el cambio de la URL\r\n    const handleUrlChange = (e) => {\r\n        setImageUrl(e.target.value);\r\n    };\r\n\r\n    // Manejador para subir archivo\r\n    const handleFileChange = (e) => {\r\n        const file = e.target.files[0];\r\n        if (file && file.type.startsWith('image/')) {\r\n            const reader = new FileReader();\r\n            reader.onloadend = () => {\r\n                setImagePreview(reader.result);\r\n                setImageUrl(''); // Limpiar la URL si se sube un archivo\r\n                setError(null);\r\n            };\r\n            reader.readAsDataURL(file);\r\n        } else {\r\n            setImagePreview(null);\r\n            setError('Por favor, sube un archivo de imagen válido.');\r\n        }\r\n    };\r\n\r\n    // Manejador para tomar foto (simulado)\r\n    const handleTakePhoto = () => {\r\n        setError('La función \"Tomar Foto\" no está implementada en esta simulación.');\r\n    };\r\n\r\n    // Manejador para el drag-and-drop\r\n    const handleDragEnter = (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        dragCounter.current++;\r\n        if (e.dataTransfer.items && e.dataTransfer.items.length > 0) {\r\n            e.currentTarget.classList.add('border-blue-500');\r\n        }\r\n    };\r\n\r\n    const handleDragLeave = (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        dragCounter.current--;\r\n        if (dragCounter.current === 0) {\r\n            e.currentTarget.classList.remove('border-blue-500');\r\n        }\r\n    };\r\n\r\n    const handleDragOver = (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n    };\r\n\r\n    const handleDrop = (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        dragCounter.current = 0;\r\n        e.currentTarget.classList.remove('border-blue-500');\r\n\r\n        if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\r\n            const file = e.dataTransfer.files[0];\r\n            if (file.type.startsWith('image/')) {\r\n                const reader = new FileReader();\r\n                reader.onloadend = () => {\r\n                    setImagePreview(reader.result);\r\n                    setImageUrl(''); // Limpiar la URL si se sube un archivo\r\n                    setError(null);\r\n                };\r\n                reader.readAsDataURL(file);\r\n            } else {\r\n                setError('Por favor, suelta un archivo de imagen válido.');\r\n            }\r\n            e.dataTransfer.clearData();\r\n        }\r\n    };\r\n\r\n    // Función para simular el análisis de ECG\r\n    const simulateECGAnalysis = async (imageData) => {\r\n        // Simulación de una llamada a un backend para análisis de ECG\r\n        return new Promise(resolve => {\r\n            setTimeout(() => {\r\n                resolve({\r\n                    basic_measurements: {\r\n                        pr_interval: '0.16s',\r\n                        qrs_duration: '0.08s',\r\n                        qt_interval: '0.38s',\r\n                        heart_rate: '72 bpm'\r\n                    },\r\n                    initial_findings: 'Ritmo sinusal normal. No se detectan anomalías significativas en el trazado.',\r\n                    confidence: '95%'\r\n                });\r\n            }, 1500); // Simula un retraso de 1.5 segundos\r\n        });\r\n    };\r\n\r\n    // Función para llamar a la API de Gemini para análisis de imagen y texto\r\n    const callGeminiAPI = async (prompt, imageData = null) => {\r\n        let chatHistory = [];\r\n        const parts = [{ text: prompt }];\r\n\r\n        if (imageData) {\r\n            parts.push({\r\n                inlineData: {\r\n                    mimeType: \"image/png\", // Asumimos PNG para la imagen del ECG\r\n                    data: imageData\r\n                }\r\n            });\r\n        }\r\n        chatHistory.push({ role: \"user\", parts: parts });\r\n\r\n        const payload = { contents: chatHistory };\r\n        const apiKey = \"\"; // La clave API se inyecta en tiempo de ejecución por Canvas\r\n        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;\r\n\r\n        try {\r\n            const response = await fetch(apiUrl, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(payload)\r\n            });\r\n            const result = await response.json();\r\n            if (result.candidates && result.candidates.length > 0 &&\r\n                result.candidates[0].content && result.candidates[0].content.parts &&\r\n                result.candidates[0].content.parts.length > 0) {\r\n                return result.candidates[0].content.parts[0].text;\r\n            } else {\r\n                console.error(\"Estructura de respuesta inesperada de Gemini:\", result);\r\n                return \"No se pudo obtener una respuesta detallada de Gemini.\";\r\n            }\r\n        } catch (err) {\r\n            console.error(\"Error al llamar a la API de Gemini:\", err);\r\n            return `Error de conexión con Gemini: ${err.message}.`;\r\n        }\r\n    };\r\n\r\n    // Manejador del botón \"Analizar\"\r\n    const handleAnalyze = async () => {\r\n        if (!imagePreview) {\r\n            setError('Por favor, sube o introduce una URL de imagen de ECG.');\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n        setError(null);\r\n        setAnalysisResult(null);\r\n        setGeminiAnalysis(null);\r\n        setDeepseekRecommendation(null);\r\n        setPhysionetComparison(null);\r\n\r\n        try {\r\n            // Convertir la imagen a Base64 si es necesario para Gemini\r\n            let base64Image = null;\r\n            if (imagePreview.startsWith('data:image/')) {\r\n                base64Image = imagePreview.split(',')[1];\r\n            } else {\r\n                // Si es una URL externa, se necesitaría un proxy o CORS para obtener la imagen\r\n                // Para esta simulación, asumimos que ya tenemos el base64 o que la URL es directa.\r\n                // En un entorno real, harías un fetch de la URL y lo convertirías a base64.\r\n                const response = await fetch(imagePreview);\r\n                const blob = await response.blob();\r\n                base64Image = await fileToBase64(blob);\r\n            }\r\n\r\n            // Simular análisis básico de ECG\r\n            const basicResults = await simulateECGAnalysis(base64Image);\r\n            setAnalysisResult(basicResults);\r\n\r\n            // Análisis multimodal con Gemini\r\n            const geminiPrompt = `Analiza este ECG y los siguientes datos del paciente:\r\n            Edad: ${patientData.age || 'no especificada'}\r\n            Género: ${patientData.gender || 'no especificado'}\r\n            Historial Clínico: ${patientData.history || 'no especificado'}\r\n            \r\n            Basado en el ECG y los datos del paciente, proporciona un resumen detallado y cualquier observación relevante.`;\r\n            \r\n            const geminiRes = await callGeminiAPI(geminiPrompt, base64Image);\r\n            setGeminiAnalysis(geminiRes);\r\n\r\n            // Simular Deepseek y PhysioNet\r\n            setTimeout(() => {\r\n                setDeepseekRecommendation('Deepseek sugiere considerar un seguimiento si los síntomas persisten, dado el historial.');\r\n                setPhysionetComparison('Comparación con PhysioNet: El trazado muestra alta similitud con patrones de ritmo sinusal normal en la base de datos de referencia.');\r\n            }, 1000);\r\n\r\n        } catch (err) {\r\n            setError(`Error durante el análisis: ${err.message}. Asegúrate de que la URL es válida o el archivo es una imagen.`);\r\n            console.error(err);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-900 text-white font-inter p-4 sm:p-8 flex flex-col items-center\">\r\n            <div className=\"max-w-4xl w-full bg-gray-800 rounded-xl shadow-lg p-6 sm:p-8\">\r\n                <h1 className=\"text-3xl sm:text-4xl font-bold text-blue-400 mb-6 text-center\">Análisis de ECG Avanzado con IA</h1>\r\n\r\n                {/* Aviso Importante */}\r\n                <div className=\"bg-yellow-700 bg-opacity-30 border border-yellow-600 rounded-lg p-4 mb-6 flex items-start\">\r\n                    <svg className=\"w-6 h-6 text-yellow-400 mr-3 mt-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fillRule=\"evenodd\" d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\"></path></svg>\r\n                    <div>\r\n                        <h2 className=\"font-semibold text-yellow-300\">AVISO IMPORTANTE:</h2>\r\n                        <p className=\"text-sm text-yellow-200\">Este análisis es \"solo para fines informativos\" y no constituye un diagnóstico médico. Siempre consulta a un profesional de la salud calificado para una interpretación precisa de cualquier dato médico.</p>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Sección de Carga de ECG */}\r\n                <div className=\"mb-8\">\r\n                    <h2 className=\"text-2xl font-semibold text-blue-300 mb-4\">Cargar Imagen de ECG</h2>\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\r\n                        <button\r\n                            onClick={() => fileInputRef.current.click()}\r\n                            className=\"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105\"\r\n                        >\r\n                            Subir Imagen\r\n                        </button>\r\n                        <input\r\n                            type=\"file\"\r\n                            ref={fileInputRef}\r\n                            onChange={handleFileChange}\r\n                            accept=\"image/*\"\r\n                            className=\"hidden\"\r\n                        />\r\n                        <button\r\n                            onClick={handleTakePhoto}\r\n                            className=\"bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105\"\r\n                        >\r\n                            Tomar Foto\r\n                        </button>\r\n                    </div>\r\n\r\n                    {/* Caja de URL Dinámica y Drag-and-Drop */}\r\n                    <div\r\n                        onDragEnter={handleDragEnter}\r\n                        onDragLeave={handleDragLeave}\r\n                        onDragOver={handleDragOver}\r\n                        onDrop={handleDrop}\r\n                        className=\"relative border-2 border-dashed border-gray-600 rounded-lg p-6 text-center text-gray-400 transition-all duration-300 ease-in-out hover:border-blue-500\"\r\n                    >\r\n                        <div className=\"flex items-center justify-center mb-3\">\r\n                            <svg className=\"w-6 h-6 mr-2\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fillRule=\"evenodd\" d=\"M12 1.586l-4 4V14a2 2 0 002 2h2a2 2 0 002-2V5.586l-4-4zM10 17a1 1 0 100-2 1 1 0 000 2z\" clipRule=\"evenodd\"></path></svg>\r\n                            <input\r\n                                type=\"url\"\r\n                                placeholder=\"... o introduce la URL de una imagen aquí o arrastra y suelta\"\r\n                                value={imageUrl}\r\n                                onChange={handleUrlChange}\r\n                                className=\"flex-grow bg-gray-700 border border-gray-600 rounded-lg py-2 px-4 text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                            />\r\n                        </div>\r\n                        {imagePreview && (\r\n                            <div className=\"mt-4 flex justify-center\">\r\n                                <img\r\n                                    src={imagePreview}\r\n                                    alt=\"Vista previa del ECG\"\r\n                                    className=\"max-w-full h-48 object-contain rounded-lg border border-gray-700 shadow-md\"\r\n                                    onError={(e) => { e.target.onerror = null; setImagePreview(null); setError('No se pudo cargar la imagen desde la URL. Asegúrate de que es una URL válida y accesible.'); }}\r\n                                />\r\n                            </div>\r\n                        )}\r\n                        <button\r\n                            onClick={handleAnalyze}\r\n                            disabled={!imagePreview || loading}\r\n                            className={`mt-4 w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105 ${(!imagePreview || loading) ? 'opacity-50 cursor-not-allowed' : ''}`}\r\n                        >\r\n                            {loading ? 'Analizando...' : 'Analizar'}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Sección de Resultados del Análisis */}\r\n                <div className=\"mb-8\">\r\n                    <h2 className=\"text-2xl font-semibold text-blue-300 mb-4\">Resultados del Análisis</h2>\r\n                    <div className=\"bg-gray-700 rounded-lg p-6\">\r\n                        {error && <p className=\"text-red-400 mb-4\">{error}</p>}\r\n                        {loading && <p className=\"text-blue-300\">Realizando análisis...</p>}\r\n                        {analysisResult && (\r\n                            <div>\r\n                                <h3 className=\"text-xl font-semibold text-gray-200 mb-2\">Análisis Básico del ECG:</h3>\r\n                                <ul className=\"list-disc list-inside text-gray-300 mb-4\">\r\n                                    <li>Intervalo PR: {analysisResult.basic_measurements.pr_interval}</li>\r\n                                    <li>Duración QRS: {analysisResult.basic_measurements.qrs_duration}</li>\r\n                                    <li>Intervalo QT: {analysisResult.basic_measurements.qt_interval}</li>\r\n                                    <li>Frecuencia Cardíaca: {analysisResult.basic_measurements.heart_rate}</li>\r\n                                </ul>\r\n                                <p className=\"text-gray-300\">\r\n                                    <span className=\"font-semibold\">Hallazgos Iniciales:</span> {analysisResult.initial_findings}\r\n                                </p>\r\n                                <p className=\"text-gray-300\">\r\n                                    <span className=\"font-semibold\">Confianza del Modelo:</span> {analysisResult.confidence}\r\n                                </p>\r\n                            </div>\r\n                        )}\r\n                        {!analysisResult && !loading && !error && (\r\n                            <p className=\"text-gray-400\">Sube una imagen de ECG para iniciar el análisis.</p>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Nuevo Apartado de IA Multimodal */}\r\n                <div>\r\n                    <h2 className=\"text-2xl font-semibold text-blue-300 mb-4\">Análisis Avanzado con IA Multimodal</h2>\r\n                    <div className=\"bg-gray-700 rounded-lg p-6\">\r\n                        <p className=\"text-gray-300 mb-4\">\r\n                            Utilizamos las capacidades multimodales de IA para ofrecer una interpretación más completa y contextualizada de tu ECG. Además del análisis visual, podemos integrar datos clínicos para una visión holística.\r\n                        </p>\r\n\r\n                        {/* Datos del Paciente para Gemini */}\r\n                        <div className=\"mb-6 p-4 border border-gray-600 rounded-lg\">\r\n                            <h3 className=\"text-xl font-semibold text-gray-200 mb-3\">Datos del Paciente (para Gemini)</h3>\r\n                            <p className=\"text-gray-400 text-sm mb-3\">Gemini puede interpretar el ECG en el contexto de la información clínica proporcionada, identificando posibles correlaciones.</p>\r\n                            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                                <div>\r\n                                    <label htmlFor=\"age\" className=\"block text-gray-300 text-sm font-bold mb-1\">Edad:</label>\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        id=\"age\"\r\n                                        value={patientData.age}\r\n                                        onChange={(e) => setPatientData({ ...patientData, age: e.target.value })}\r\n                                        className=\"w-full bg-gray-800 border border-gray-600 rounded-lg py-2 px-3 text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                                        placeholder=\"Ej: 45\"\r\n                                    />\r\n                                </div>\r\n                                <div>\r\n                                    <label htmlFor=\"gender\" className=\"block text-gray-300 text-sm font-bold mb-1\">Género:</label>\r\n                                    <select\r\n                                        id=\"gender\"\r\n                                        value={patientData.gender}\r\n                                        onChange={(e) => setPatientData({ ...patientData, gender: e.target.value })}\r\n                                        className=\"w-full bg-gray-800 border border-gray-600 rounded-lg py-2 px-3 text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                                    >\r\n                                        <option value=\"\">Seleccionar</option>\r\n                                        <option value=\"Masculino\">Masculino</option>\r\n                                        <option value=\"Femenino\">Femenino</option>\r\n                                        <option value=\"Otro\">Otro</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"mt-4\">\r\n                                <label htmlFor=\"history\" className=\"block text-gray-300 text-sm font-bold mb-1\">Historial Clínico / Síntomas actuales:</label>\r\n                                <textarea\r\n                                    id=\"history\"\r\n                                    value={patientData.history}\r\n                                    onChange={(e) => setPatientData({ ...patientData, history: e.target.value })}\r\n                                    rows=\"3\"\r\n                                    className=\"w-full bg-gray-800 border border-gray-600 rounded-lg py-2 px-3 text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                                    placeholder=\"Ej: Antecedentes de hipertensión, dolor en el pecho ocasional...\"\r\n                                ></textarea>\r\n                            </div>\r\n                            {geminiAnalysis && (\r\n                                <div className=\"mt-4 p-3 bg-gray-800 rounded-lg border border-gray-600\">\r\n                                    <h4 className=\"font-semibold text-blue-300\">Análisis Contextual (Gemini):</h4>\r\n                                    <p className=\"text-gray-300 text-sm\">{geminiAnalysis}</p>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* Integración con Deepseek */}\r\n                        <div className=\"mb-6 p-4 border border-gray-600 rounded-lg\">\r\n                            <h3 className=\"text-xl font-semibold text-gray-200 mb-3\">Recomendaciones Clínicas (Deepseek)</h3>\r\n                            <p className=\"text-gray-400 text-sm mb-3\">Deepseek puede sugerir posibles diagnósticos y el siguiente curso de acción basado en las mediciones del ECG y los datos del paciente, actuando como una herramienta de apoyo para profesionales.</p>\r\n                            {deepseekRecommendation && (\r\n                                <div className=\"mt-4 p-3 bg-gray-800 rounded-lg border border-gray-600\">\r\n                                    <h4 className=\"font-semibold text-blue-300\">Recomendación (Deepseek):</h4>\r\n                                    <p className=\"text-gray-300 text-sm\">{deepseekRecommendation}</p>\r\n                                </div>\r\n                            )}\r\n                            {!deepseekRecommendation && !loading && (\r\n                                <p className=\"text-gray-400 text-sm\">Las recomendaciones de Deepseek aparecerán aquí después del análisis.</p>\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* Integración con PhysioNet */}\r\n                        <div className=\"p-4 border border-gray-600 rounded-lg\">\r\n                            <h3 className=\"text-xl font-semibold text-gray-200 mb-3\">Comparación con Base de Datos de Referencia (PhysioNet)</h3>\r\n                            <p className=\"text-gray-400 text-sm mb-3\">Compara el trazado de tu ECG con miles de registros de referencia de PhysioNet para identificar patrones raros o específicos, ayudando a validar los hallazgos.</p>\r\n                            {physionetComparison && (\r\n                                <div className=\"mt-4 p-3 bg-gray-800 rounded-lg border border-gray-600\">\r\n                                    <h4 className=\"font-semibold text-blue-300\">Comparación (PhysioNet):</h4>\r\n                                    <p className=\"text-gray-300 text-sm\">{physionetComparison}</p>\r\n                                </div>\r\n                            )}\r\n                            {!physionetComparison && !loading && (\r\n                                <p className=\"text-gray-400 text-sm\">La comparación con PhysioNet aparecerá aquí después del análisis.</p>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}